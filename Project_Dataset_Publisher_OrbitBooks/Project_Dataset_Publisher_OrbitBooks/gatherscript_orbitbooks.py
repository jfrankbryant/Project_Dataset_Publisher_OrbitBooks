#import statement
import requests, pandas as pd, numpy as np
from bs4 import BeautifulSoup

#list of ISBNs pulled from ISFDB on 12/5/18
orbit_isbn_list = ['9780446197175',
'9780316021425',
'0316003131',
'9780316067805',
'9780316021722',
'9780316067690',
'9780316003148',
'9780316019552',
'9780316019446',
'9780316019491',
'9780316019385',
'0316003387',
'9780316020466',
'9780316067812',
'9780316022750',
'031600345X',
'0316003441',
'0316003476',
'9780316021739',
'0316003484',
'0316003395',
'9780316021432',
'9780316023276',
'9780316021746',
'9780316020572',
'9780316003407',
'9780316021425',
'9780316024044',
'9780316023979',
'9780316007573',
'9780316018920',
'9780316001779',
'9780316003414',
'9780316028394',
'9780316005364',
'9780316020589',
'9780316040723',
'9780316003421',
'9780316029063',
'9780316005388',
'9780316005401',
'9780316068000',
'9780316003438',
'9780316019132',
'9780316001731',
'9780316019125',
'9780316030403',
'9780316008358',
'9780316032049',
'9780316032070',
'9780316032056',
'9780316032063',
'9780316032124',
'9780316022101',
'9780316029186',
'9780316068062',
'9780316032452',
'9780316021753',
'9780316020299',
'9780316067706',
'9780316032629',
'9780316032643',
'9780316007573',
'9780316030571',
'9780316001786',
'9780316032711',
'9780316032728',
'9780446537605',
'9780316022088',
'9780316027069',
'9780316027052',
'9780316007153',
'9780316032865',
'9780316032872',
'9780316032919',
'9780316001762',
'9780316068093',
'9780316008365',
'9780316039864',
'9780316039857',
'9780316033701',
'9780316042840',
'9780316033671',
'9780316040228',
'9780316021807',
'9780316040402',
'9780316038539',
'9780316035637',
'9780316033657',
'9780316001748',
'9780316040211',
'9780316040389',
'9780316033664',
'9780316007160',
'9780316040273',
'9780316021814',
'9780316055086',
'9780316068314',
'9780316068796',
'9780316022095',
'9780316035422',
'9780316008372',
'9780316053976',
'9780316040792',
'9780316040761',
'9780316021821',
'9780316005371',
'9780316037884',
'9780316069984',
'9780316069960',
'9780446556941',
'9780446556347',
'9780316068024',
'9780316003155',
'9780316040440',
'9780316037761',
'9780316033695',
'9780316041256',
'9780316068079',
'9780316073431',
'9780316052955',
'9780316052962',
'9780316052825',
'9780316007580',
'9780316041263',
'9780316067713',
'9780316029193',
'9780316073714',
'9780316052979',
'9780316071956',
'9780316075282',
'9780316004183',
'9780316001755',
'9780316020329',
'9780316052870',
'9780316052849',
'9780316052856',
'9780316071277',
'9780316077477',
'9780316077491',
'9780316077484',
'9780316035446',
'9780316044967',
'9780316043540',
'9780316036375',
'9780316075947',
'9780316077941',
'9780316049443',
'9780446551458',
'9780316079082',
'9780316043557',
'9780316035460',
'9780316029209',
'9780316052900',
'9780316022118',
'9780316052924',
'9780316071987',
'9780316069045',
'9780316053938',
'9780316043564',
'9780316078283',
'9780316071659',
'9780316075961',
'9780316086561',
'9780316038522',
'9780446565783',
'9780446567596',
'9780316032902',
'9780316056632',
'9780316085144',
'9780316072403',
'9780316071697',
'9780316088602',
'9780316076036',
'9780316033688',
'9780316071949',
'9780316071925',
'9780316043823',
'9780316056588',
'9780316018937',
'9780316072243',
'9780316095839',
'9780316035620',
'9780316052832',
'9780316049344',
'9780316035453',
'9780316007177',
'9780316067997',
'9780316053945',
'9780316095860',
'9780316071376',
'9780316075978',
'9780316021838',
'9780316072786',
'9780316003162',
'9780316054683',
'9780316068017',
'9780316068086',
'9780316068598',
'9780316038447',
'9780316049917',
'9780316072106',
'9780316075909',
'9780316043915',
'9780316041232',
'9780316049368',
'9780316069151',
'9780316072168',
'9780316097598',
'9780316072342',
'9780316041270',
'9780316021791',
'9780316037808',
'9780316037877',
'9780316071246',
'9780316088473',
'9780316088039',
'9780316087841',
'9780316077064',
'9780316088855',
'9780316122467',
'9780316089258',
'9780316074148',
'9780316072786',
'9780316081054',
'9780316004190',
'9781841492957',
'9780316071253',
'9780316088879',
'9780316037839',
'9780316076395',
'9780316126960',
'9780316072793',
'9780316004213',
'9780316086998',
'9780316088510',
'9780316044950',
'9780316076401',
'9780316076012',
'9780316052917',
'9780316087704',
'9780316056571',
'9780316035439',
'9780316075602',
'9780316077088',
'9780316088466',
'9780316077408',
'9780316085427',
'9780316029216',
'9780316176811',
'9780316075558',
'9780316069144',
'9780316075916',
'9780316069823',
'9780316078009',
'9780316087544',
'9780316179751',
'9780316074155',
'9780316071994',
'9780316054690',
'9780316102865',
'9780316082563',
'9780316178570',
'9780316080859',
'9780316121828',
'9780316123402',
'9780316018944',
'9781841498621',
'9780316043922',
'9780316075541',
'9780316069052',
'9780316120821',
'9780316077071',
'9780316123389',
'9780316180481',
'9780316181099',
'9780316074179',
'9780316072816',
'9780316069113',
'9780316122283',
'9780316120791',
'9780316043960',
'9780316075985',
'9780316043786',
'9780316121736',
'9780316123020',
'9780316069007',
'9780316079938',
'9780316069083',
'9780316084000',
'9780316122733',
'9780316132688',
'9780316102858',
'9780316182447',
'9780316102957',
'9780316077989',
'9780316056601',
'9780316179874',
'9780316076029',
'9780316126298',
'9780316038560',
'9780316122108',
'9780316074391',
'9780316123396',
'9780316093576',
'9780316079907',
'9780316120838',
'9780316098045',
'9780316044981',
'9780316121910',
'9780316123358',
'9780316080026',
'9780316122740',
'9780316037778',
'9780316121972',
'9780316101967',
'9780316182423',
'9780316087346',
'9780316093644',
'9780316123303',
'9780316123365',
'9780316125185',
'9780316080682',
'9781841498621',
'9780316054706',
'9780316134392',
'9780316037815',
'9780316049924',
'9780316175074',
'9780316123174',
'9780316194969',
'9780316188135',
'9780316187466',
'9780316191166',
'9780316125154',
'9780316175418',
'9780316053754',
'9780316175487',
'9780316037860',
'9780316175371',
'9780316123419',
'9780316187473',
'9780316093552',
'9780316134170',
'9780316125178',
'9780316081061',
'9780316004220',
'9780316129084',
'9780316134293',
'9780316196482',
'9780316134262',
'9780316043816',
'9780316175036',
'9780316187879',
'9780316198325',
'9780316134675',
'9780316004237',
'9780316127196',
'9780316102926',
'9780316125130',
'9780316069847',
'9780316133388',
'9780316175784',
'9780316175135',
'9780316179959',
'9780316134590',
'9780316187954',
'9780316079969',
'9780316179928',
'9780316069137',
'9780316128186',
'9780316128087',
'9780316080873',
'9780316204484',
'9780316075923',
'9780316201247',
'9780316029223',
'9780316133890',
'9780316126922',
'9780316068130',
'9780316043953',
'9780316207751',
'9780316205207',
'9780316078016',
'9780316188005',
'9780316123136',
'9780316080996',
'9780316196352',
'9780316084772',
'9780316193092',
'9780316072809',
'9780316204071',
'9780316193566',
'9780316043939',
'9780316076005',
'9780316074162',
'9780316093651',
'9780316084765',
'9780316192842',
'9780316192552',
'9780316102834',
'9780316193351',
'9780316209809',
'9780316193542',
'9780316205931',
'9780316187749',
'9780316200714',
'9780316084758',
'9780316187787',
'9780316212779',
'9780316212793',
'9780316193023',
'9780316125147',
'9780316179799',
'9780316187701',
'9780316192439',
'9780316217347',
'9780316178433',
'9780316192095',
'9780316187862',
'9780316206020',
'9780316203401',
'9780316217965',
'9780316187718',
'9780316192736',
'9780316133395',
'9780316093613',
'9780316093569',
'9780316192361',
'9780316126304',
'9780316219488',
'9780316187527',
'9780316192712',
'9780316193573',
'9780316206044',
'9780316068987',
'9780316128155',
'9780316191838',
'9780316194006',
'9780316084031',
'9780316127189',
'9780316093521',
'9780316191784',
'9780316223195',
'9780316221276',
'9780316074421',
'9780316193443',
'9780316043946',
'9780316037846',
'9780316218283',
'9780316218276',
'9780316072847',
'9780316180672',
'9780316033718',
'9780316134804',
'9780316225090',
'9780316201285',
'9780316133470',
'9780316098120',
'9780316080774',
'9780316120227',
'9780316187251',
'9780316198349',
'9780316187282',
'9780316175807',
'9780316202770',
'9780316194129',
'9780316227209',
'9780316202183',
'9780316192804',
'9780316202213',
'9780316202794',
'9780316224017',
'9780316128117',
'9780316004244',
'9780316129060',
'9780316178457',
'9780316081078',
'9780316187817',
'9780316198387',
'9780316192927',
'9780316187299',
'9780316202886',
'9780316227926',
'9780316202497',
'9780316202275',
'9780316196123',
'9780316202350',
'9780316072779',
'9780316126250',
'9780316218962',
'9780316177757',
'9780316194105',
'9780316198356',
'9780316235471',
'9780316128179',
'9780316203265',
'9780316102629',
'9780316201261',
'9780316202688',
'9780316202589',
'9780316201278',
'9780316037891',
'9780316219952',
'9780316228961',
'9780316080989',
'9780316213981',
'9780316213998',
'9780316233484',
'9780316233064',
'9780316233088',
'9780316233163',
'9780316232968',
'9780316233156',
'9780316232975',
'9780316232982',
'9780316233262',
'9780316233330',
'9780316233170',
'9780316233187',
'9780316233200',
'9780316233217',
'9780316233279',
'9780316233224',
'9780316233408',
'9780316233293',
'9780316233316',
'9780316233422',
'9780316233460',
'9780316233347',
'9780316233354',
'9780316233361',
'9780316233439',
'9780316233446',
'9780316233026',
'9780316079914',
'9780316215817',
'9780316205665',
'9780316217651',
'9780316213950',
'9780316215558',
'9780316187213',
'9780316214018',
'9780316212373',
'9780316212380',
'9780316214001',
'9781405524872',
'9780316246064',
'9780316200172',
'9780316187268',
'9780316212267',
'9780316225076',
'9780316201940',
'9780316231749',
'9780316212274',
'9780316214032',
'9780316225083',
'9780316209212',
'9780316209229',
'9780316214445',
'9780316198363',
'9780316214025',
'9780316215626',
'9780316232470',
'9780316226479',
'9780316190350',
'9780316201711',
'9780316219044',
'9780316093583',
'9780316251617',
'9780316251587',
'9780316215398',
'9780316187831',
'9780316215640',
'9780316209199',
'9780316212281',
'9780316212298',
'9780316209205',
'9780316251594',
'9780316196130',
'9780316215350',
'9780316200202',
'9780316214513',
'9780316093538',
'9780316217682',
'9780316217699',
'9780316226097',
'9780316226103',
'9780316233545',
'9780316072854',
'9780316183840',
'9780316242592',
'9780316220064',
'9780316251563',
'9780316220071',
'9780316219679',
'9780316219709',
'9780316074360',
'9780316253680',
'9780316219037',
'9780316219020',
'9780316205214',
'9780316206389',
'9780316183734',
'9780316233323',
'9780316233033',
'9780316233057',
'9780316233415',
'9780316233231',
'9780316233040',
'9780316080705',
'9780316235549',
'9780316253697',
'9780316221177',
'9780316128100',
'9780316221160',
'9780316235501',
'9780316129077',
'9780316235426',
'9780316217781',
'9780316217774',
'9780316217705',
'9780316217729',
'9780316098113',
'9780316080903',
'9780316215152',
'9780316246279',
'9780316187275',
'9780316235525',
'9780316218986',
'9780316226431',
'9780316226448',
'9780316037907',
'9780316200189',
'9780316235440',
'9780316243711',
'9780316243704',
'9780316068147',
'9780316219136',
'9780316219143',
'9780316212366',
'9780316098076',
'9780316235570',
'9780316243728',
'9780316243735',
'9780316368940',
'9780316253390',
'9780316253383',
'9780316253468',
'9780316246620',
'9780316246637',
'9780316205221',
'9780316242394',
'9780316206358',
'9780316242387',
'9780316187206',
'9780316371599',
'9780316218955',
'9780316218931',
'9780316253475',
'9780316242493',
'9780316221115',
'9780316242486',
'9780316221092',
'9780316196147',
'9780316235488',
'9780316217743',
'9780316217736',
'9780316404129',
'9780316233538',
'9780316399739',
'9780316242455',
'9780316242479',
'9780316399715',
'9780316404112',
'9780316187855',
'9780316235495',
'9780316226127',
'9780316226110',
'9780316334273',
'9780316129077',
'9780316228435',
'9780316404136',
'9780316404181',
'9780316404211',
'9780316404235',
'9780316291804',
'9780316242585',
'9780316228442',
'9780316220101',
'9780316220095',
'9780316219693',
'9780316371643',
'9780316221085',
'9780316221078',
'9780316221146',
'9780316221153',
'9780316212335',
'9780316212342',
'9780316399661',
'9780316399647',
'9780316219723',
'9780316404303',
'9780316219730',
'9780316401760',
'9780316401777',
'9780316402415',
'9780316093637',
'9780316284196',
'9780316219044',
'9780316221122',
'9780316221139',
'9780316217668',
'9780316219082',
'9780316279512',
'9780316219099',
'9780316279499',
'138878',
'9780316217767',
'9780316278270',
'9780316278287',
'9780316217750',
'9780316242448',
'9780316209274',
'9780316242424',
'9780316324984',
'9780316404150',
'9780316404310',
'9780316072878',
'9780316235433',
'9780316098083',
'9780316278157',
'9780316278140',
'9780316217620',
'9780316333054',
'9780316333115',
'9780316217606',
'9780316333061',
'9780316219181',
'9780316404174',
'9780316219167',
'9780316402040',
'9780316402729',
'9780316368797',
'9780316380980',
'9780316399746',
'9780316376730',
'9780316404204',
'9780316203982',
'9780316228466',
'9780316334693',
'9780316183727',
'9780316079921',
'9780316404242',
'9780316399784',
'9780316399777',
'9780316120081',
'9780316404334',
'9780316404341',
'9780316235563',
'9780316253406',
'9780316253413',
'9780316339537',
'9780316072830',
'9780316218924',
'9780316246651',
'9780316246644',
'9780316299916',
'9780316233491',
'9780316233514',
'9780316335768',
'9780316341349',
'9780316374866',
'9780316242523',
'9780316242530',
'9780316218993',
'9780316219006',
'9780316407342',
'9780316278331',
'9780316278317',
'9780316334006',
'9780316333986',
'9780316259057',
'9781322497808',
'9780316299886',
'9780316300223',
'9780316399685',
'9780316399678',
'9780316219075',
'9780316374873',
'9780316219129',
'9780316228428',
'9780316219105',
'9780316228411',
'9780316341301',
'9780316404266',
'9780316404273',
'9780316248006',
'9780316247993',
'9780316212243',
'9780316212236',
'9780316219716',
'9780316386388',
'9780316278355',
'9780316407359',
'9780316278348',
'9780316277983',
'9780316399791',
'9780316399807',
'9780316277990',
'9780316278027',
'9780316278003',
'9780316265713',
'9780316265805',
'9780316265775',
'9780316334754',
'9780316346832',
'9780316334686',
'9780316209250',
'9780316242578',
'9780316242554',
'9780316265683',
'9780316219662',
'9780316219648',
'9780316389716',
'9780316346849',
'9780316217583',
'9780316217590',
'9780316120104',
'9780316404358',
'9780316404372',
'9780316265652',
'9780316277853',
'9780316277839',
'9780316098106',
'9780316378741',
'9780316349482',
'9780316265768',
'9780316259026',
'9780316072823',
'9780316368810',
'9780316368803',
'9780316261647',
'9780316388597',
'9780316261661',
'9780316229296',
'9780316229302',
'9780316343602',
'9780316343640',
'9780316253444',
'9780316253437',
'9780316058964',
'9780316279543',
'9780316279529',
'9780316265720',
'9780316386449',
'9780316387354',
'9780316387408',
'9780316387347',
'9780316387330',
'9780316387385',
'9780316379410',
'9780316265621',
'9780316298278',
'9780316298285',
'9780316399814',
'9780316399821',
'9780316224000',
'9780316223997',
'9780316246682',
'9780316374965',
'9780316374972',
'9780316246675',
'9780316386302',
'9780316386326',
'9780316219013',
'9780316351522',
'9780316402811',
'9780316217569',
'9780316212304',
'9780316212311',
'9780316264310',
'9780316264303',
'9780316311298',
'9780316368698',
'9780316368704',
'9780316390682',
'9780316386418',
'9780316375016',
'9780316374996',
'9780316351546',
'9780316209236',
'9780316302685',
'9780316324953',
'9780316381031',
'9780316381017',
'9780316248013',
'9780316389709',
'9780316248020',
'9780316375030',
'9780316393034',
'9780316375023',
'9780316309622',
'9780316351454',
'9780316347181',
'9780316219112',
'9780316221184',
'9780316351683',
'9780316277877',
'9780316212250',
'9780316219655',
'9780316347181',
'9780316385879',
'9780316351577',
'9780316386371',
'9780316362252',
'9780316356930',
'9780316204057',
'9780316204040',
'9780316302302',
'9780316302326',
'9780316351508',
'9780316278034',
'9780316278058',
'9780316374897',
'9780316374903',
'9780316300285',
'9780316300308',
'9780316298315',
'9780316298308',
'9780316399708',
'9780316399692',
'9780316098090',
'9780316302333',
'9780316390811',
'9780316302340',
'9780316390804',
'9780316334716',
'9780316363662',
'9780316273718',
'9780316386876',
'9780316386869',
'9780316273763',
'9780316340663',
'9780316340687',
'9780316386456',
'9780316309639',
'9780316356961',
'9780316309585',
'9780316268110',
'9780316268134',
'9780316223980',
'9780316308236',
'9780316212212',
'9780316308250',
'9780316212199',
'9780316552745',
'9780316277914',
'9780316308700',
'9780316277907',
'9780316308687',
'9780316381000',
'9780316308601',
'9780316308595',
'9780316209243',
'9780316229265',
'9780316229289',
'9780316386487',
'9780316386463',
'9780316361712',
'9780316390699',
'9780316355698',
'9780316355704',
'9780316434362',
'9780316390712',
'9780316356985',
'9780316362269',
'9780316264297',
'9780316555623',
'9780316379342',
'9780316379328',
'9780316302272',
'9780316298346',
'9780316302265',
'9780316298353',
'9780316251334',
'9780316302425',
'9780316251310',
'9780316302418',
'9780316274098',
'9780316361194',
'9780316556569',
'9780316302739',
'9780316302722',
'9780316363655',
'9780316386340',
'9780316248051',
'9780316334747',
'9780316248044',
'9780316217637',
'9780316308632',
'9780316306249',
'9780316308625',
'9780316223973',
'9780316333955',
'9780316363693',
'9780316333962',
'9780316223966',
'9780316363709',
'9780316302319',
'9780316340700',
'9780316203913',
'9780316309530',
'9780316389686',
'9780316389662',
'9780316212205',
'9780316385916',
'9780316385909',
'9780316362474',
'9780316362467',
'9780316334761',
'9780316268141',
'9780316268172',
'9780316407212',
'9780316375122',
'9780316390828',
'9780316262347',
'9780316279567',
'9780316273831',
'9780316510097',
'9780316273770',
'9780316262330',
'9780316279581',
'9780316300278',
'9780316334709',
'9780316433037',
'9780316302371',
'9780316355773',
'9780316355742',
'9780316469852',
'9780316469890',
'9780316300339',
'9780316300315',
'9780316274074',
'9780316223959',
'9780316379311',
'9780316557993',
'9780316277969',
'9780316277938',
'9780316317382',
'9780316270823',
'9780316270816',
'9780316317375',
'9780316558037',
'9780316386906',
'9780316552332',
'9780316511438',
'9780316386913',
'9780316552165',
'9780316306225',
'9780316469074',
'9780316264358',
'9780316251327',
'9780316438964',
'9780316217576',
'9780316558051',
'9780316308731',
'9780316434607',
'9780316308724',
'9780316434614',
'9780316466493',
'9780316466530',
'9780316120159',
'9780356508559',
'9780316511421',
'9780316229241',
'9780316229258',
'9780316229241',
'9780316274111',
'9780316274128',
'9780356510804',
'9780316517904',
'9780316517973',
'9780316558112',
'9780316308281',
'9780316390736',
'9780316390729',
'9780316513333',
'9780316513326',
'9780316513319',
'9780316209281',
'9780316324960',
'9780316558150',
'9780316363747',
'9780316433228',
'9780316388672',
'9780356505053',
'9780316388634',
'9780356508115',
'9780316554787',
'9780316438971',
'9780316438988',
'9780316554794',
'9780356508467',
'9780316355810',
'9780316177726',
'9780316355803',
'9780316215381',
'9780316466875',
'9780316217644',
'9780316466868',
'9780316302456',
'9780316302449',
'9780316502344',
'9780316558204',
'9780316502368',
'9780316510561',
'9780316477406',
'9780316469845',
'9780316440868',
'9780316302777',
'9780316435260',
'9780316435253',
'9780316440899',
'9780316302760',
'9780316177733',
'9780316379403',
'9780316308649',
'9780316308656',
'9780316253482',
'9780316379380',
'9780316268196',
'9780316407229',
'9780316268202',
'9780316558211',
'9780316558235',
'9780316510554',
'9780316340724',
'9780316332835',
'9780316374934',
'9780316332828',
'9780316374941',
'9780316340748',
'9780316449038',
'9780316478298',
'9780316270908',
'9780316270878',
'9780316387316',
'9780316387408',
'9780356512358',
'9780316555678',
'9780316517911',
'9780316555661',
'9780316439077',
'9780316466547',
'9780316385947',
'9780316385923',
'9780316502245',
'9780316300346',
'9780316502238',
'9780316262316',
'9780316517959',
'9780316502351',
'9780316478625',
'9780316478618',
'9780316511766',
'9780316521376',
'9780316521369',
'9780316522182',
'9780316522151',
'9780316511780',
'9780316466905',
'9780316466899',
'9780316558242',
'9780316558273',
'9780316438988',
'9780316520256',
'9780316407267',
'9780316407243',
'9780316520225',
'9780316511612',
'9780316441636',
'9780316316804',
'9780316441612',
'9780316316781',
'9780316379373',
'9780316526982',
'9780316526999',
'9780316340717',
'9780316519113',
'9780316519120',
'9780316274135',
'9780316489324',
'9780316478717',
'9780316478700',
'9780316440882',
'9780316412063',
'9780316412087',
'9780316387354',
'9780316388658',
'9780316478762',
'9780316478731',
'9780316411318',
'9780316433884',
'9780316433877',
'9780316525749',
'9780316411356',
'9780316416542',
'9780316416559',
'9780316434638',
'9780316434645',
'9780316489317',
'9780316466585',
'9780316469104',
'9780316511469',
'9780316511452',
'9780316466592',
'9780316209298',
'9780316306232',
'9780316308311',
'9780316552349',
'9780316525817',
'9780316552356',
'9780316525794',
'9780316419451',
'9780316362535',
'9780316362528',
'9780316554817',
'9780356508481',
'9780356508498',
'9780316317399',
'9780316317405',
'9780316438957',
'9780316449052',
'9780316525848',
'9780316525824',
'9780316452496',
'9780316441667',
'9780316332859',
'9780316527194',
'9780316411219',
'9780316411202',
'9780316502375',
'9780316527071',
'9780316502382',
'9780316527033',
'9780316399319',
'9780316262378',
'9780316262354',
'9780316399326',
'9780316441629',
'9780316477420',
'9780316477444',
'9780316465885',
'9780316449717',
'9780316452212',
'9780316411158',
'9780316491341',
'9780316525879',
'9780316407274',
'9780316515221',
'9780316452502',
'9780316489249',
'9780316412100',
'9780316390750']

#retrieve data from ISFDB's API ()
#thanks to Jose Lopez for assisting with this code
bookData_list = []

#create dictionaries from each book's XML data soup
#if data does not exist in soup, create a NaN
def createDict(soup):
    try:
        title = soup.find('title').contents[0]
    except AttributeError:
        title = np.nan
    try:
        author = soup.find('author').contents[0]
    except AttributeError:
        author = np.nan
    try:
        isbn = soup.find('isbn').contents[0]
    except AttributeError:
        isbn = np.nan
    try:
        cover_price = soup.find('price').contents[0]
    except AttributeError:
        cover_price = np.nan
    try:
        page_count = soup.find('pages').contents[0]
    except AttributeError:
        page_count = np.nan
    try:
        book_type = soup.find('type').contents[0]
    except AttributeError:
        book_type = np.nan
    try:
        book_format = soup.find('binding').contents[0]
    except AttributeError:
        book_format = np.nan
    try:
        publication_date = soup.find('year').contents[0]
    except AttributeError:
        publication_date = np.nan
    try:
        publisher = soup.find('publisher').contents[0]
    except AttributeError:
        publisher = np.nan
    try:
        cover_image = soup.find('image').contents[0]
    except AttributeError:
        cover_image = np.nan

    bookData_list.append({'title': title,
                          'author': author,
                          'isbn': isbn,
                          'publisher': publisher,
                          'cover_price': cover_price,
                          'page_count':page_count,
                          'book_type': book_type,
                          'book_format': book_format,
                          'publication_date': publication_date,
                          'cover_image': cover_image})

def createBookEntry(isbn):
    #get XML data for each ISBN
    payload = (isbn)
    url = "http://www.isfdb.org/cgi-bin/rest/getpub.cgi"
    r = requests.get(url, params=payload)
    #turn the XML data in soup for BeautifulSoup to parse
    soup = BeautifulSoup(r.content, 'lxml')
    #create an entry for the book list
    createDict(soup)

for isbn in orbit_isbn_list:
    createBookEntry(isbn)

bookData_df = pd.DataFrame(bookData_list, columns = ['title', 'author', 'isbn', 'cover_price', 'page_count', 'book_type', 'book_format', 'publication_date', 'publisher', 'cover_image'])

bookData_df.to_csv('orbitBooks_12052018.csv')    
